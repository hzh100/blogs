import{_ as n,c as s,o as a,a as t}from"./app.d95e124d.js";const _='{"title":"eventBus","description":"","frontmatter":{},"headers":[{"level":3,"title":"eventBus","slug":"eventbus"}],"relativePath":"vue/\u91CD\u5B66vue-8\u7EC4\u4EF6\u901A\u4FE1.md","lastUpdated":1664437294106}',p={},o=t(`<h3 id="eventbus" tabindex="-1">eventBus <a class="header-anchor" href="#eventbus" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token comment">// \u521B\u5EFA\u4E00\u4E2A\u4E2D\u592E\u65F6\u95F4\u603B\u7EBF\u7C7B  </span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token punctuation">{</span>  
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span>callbacks <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>   <span class="token comment">// \u5B58\u653E\u4E8B\u4EF6\u7684\u540D\u5B57  </span>
  <span class="token punctuation">}</span>  
  <span class="token function">$on</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span>callbacks<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>callbacks<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
    <span class="token keyword">this</span><span class="token punctuation">.</span>callbacks<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
  <span class="token function">$emit</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>callbacks<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">this</span><span class="token punctuation">.</span>callbacks<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">cb</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
  
<span class="token comment">// main.js  </span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u5C06$bus\u6302\u8F7D\u5230vue\u5B9E\u4F8B\u7684\u539F\u578B\u4E0A  </span>
<span class="token comment">// \u53E6\u4E00\u79CD\u65B9\u5F0F  </span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Vue\u5DF2\u7ECF\u5B9E\u73B0\u4E86Bus\u7684\u529F\u80FD  </span>
</code></pre></div>`,2),c=[o];function e(u,l,k,i,r,m){return a(),s("div",null,c)}var h=n(p,[["render",e]]);export{_ as __pageData,h as default};
