import{_ as n,c as a,o as s,a as t}from"./app.d95e124d.js";const g='{"title":"\u6700\u57FA\u7840\u7684\u529F\u80FD\u662F\u6570\u636E\u9A71\u52A8\u89C6\u56FE\uFF0C\u90A3\u548C\u4EE5\u5F80\u7528\u6A21\u7248\u8BED\u6CD5\u5199\u9875\u9762\u6709\u4EC0\u4E48\u533A\u522B\u5462\uFF1F\u90FD\u662F\u7528js\u6765\u5199\u9875\u9762","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u6700\u57FA\u7840\u7684\u529F\u80FD\u662F\u6570\u636E\u9A71\u52A8\u89C6\u56FE\uFF0C\u90A3\u548C\u4EE5\u5F80\u7528\u6A21\u7248\u8BED\u6CD5\u5199\u9875\u9762\u6709\u4EC0\u4E48\u533A\u522B\u5462\uFF1F\u90FD\u662F\u7528js\u6765\u5199\u9875\u9762","slug":"\u6700\u57FA\u7840\u7684\u529F\u80FD\u662F\u6570\u636E\u9A71\u52A8\u89C6\u56FE\uFF0C\u90A3\u548C\u4EE5\u5F80\u7528\u6A21\u7248\u8BED\u6CD5\u5199\u9875\u9762\u6709\u4EC0\u4E48\u533A\u522B\u5462\uFF1F\u90FD\u662F\u7528js\u6765\u5199\u9875\u9762"},{"level":2,"title":"React\u7684\u6570\u636E\u9A71\u52A8\u89C6\u56FE","slug":"react\u7684\u6570\u636E\u9A71\u52A8\u89C6\u56FE"},{"level":2,"title":"Vue\u7684\u6570\u636E\u9A71\u52A8\u89C6\u56FE","slug":"vue\u7684\u6570\u636E\u9A71\u52A8\u89C6\u56FE"},{"level":2,"title":"\u89E3\u51B3Object.defineProperty\u7684\u7F3A\u70B9","slug":"\u89E3\u51B3object-defineproperty\u7684\u7F3A\u70B9"},{"level":2,"title":"Vue3\u7684proxy","slug":"vue3\u7684proxy"}],"relativePath":"vue/\u91CD\u5B66vue-02\u6570\u636E\u9A71\u52A8\u89C6\u56FE.md","lastUpdated":1664421231370}',p={},e=t(`<h2 id="\u6700\u57FA\u7840\u7684\u529F\u80FD\u662F\u6570\u636E\u9A71\u52A8\u89C6\u56FE\uFF0C\u90A3\u548C\u4EE5\u5F80\u7528\u6A21\u7248\u8BED\u6CD5\u5199\u9875\u9762\u6709\u4EC0\u4E48\u533A\u522B\u5462\uFF1F\u90FD\u662F\u7528js\u6765\u5199\u9875\u9762" tabindex="-1">\u6700\u57FA\u7840\u7684\u529F\u80FD\u662F\u6570\u636E\u9A71\u52A8\u89C6\u56FE\uFF0C\u90A3\u548C\u4EE5\u5F80\u7528\u6A21\u7248\u8BED\u6CD5\u5199\u9875\u9762\u6709\u4EC0\u4E48\u533A\u522B\u5462\uFF1F\u90FD\u662F\u7528js\u6765\u5199\u9875\u9762 <a class="header-anchor" href="#\u6700\u57FA\u7840\u7684\u529F\u80FD\u662F\u6570\u636E\u9A71\u52A8\u89C6\u56FE\uFF0C\u90A3\u548C\u4EE5\u5F80\u7528\u6A21\u7248\u8BED\u6CD5\u5199\u9875\u9762\u6709\u4EC0\u4E48\u533A\u522B\u5462\uFF1F\u90FD\u662F\u7528js\u6765\u5199\u9875\u9762" aria-hidden="true">#</a></h2><p>\b\u6A21\u7248\u8BED\u6CD5\u4EC5\u4EC5\u80FD\u591F\u505A\u5230\u65B9\u4FBFjs\u6E32\u67D3\u5E26\u53D8\u91CF\u7684<code>dom</code>\uFF0C\u6E32\u67D3\u5B8C\u540E\u5C31\u65F6\u666E\u901A\u7684<code>\u9759\u6001dom</code>\u4E86\uFF0C\u66F4\u65B0dom\u4F9D\u7136\u8981\u64CD\u4F5Cdom</p><p><code>vue\u3001react</code>\u7684\u7279\u70B9\u90FD\u662F\u6570\u636E\u9A71\u52A8\u89C6\u56FE\uFF0C\u4E5F\u5C31\u662F<strong>dom\u6E32\u67D3\u5B8C\u6210\u540E\uFF0C\u901A\u8FC7\u6570\u636E\u66F4\u65B0dom</strong></p><p>\u5982\uFF0C\u6211\u4EEC\u524D\u9762CDN\u5F15\u5165Vue\u7684\u4F8B\u5B50\u91CC\uFF0C\u6211\u4EEC\u628Anew\u4E4B\u540E\u7684vue\u793A\u4F8B\u6302\u5728<code>\u53D8\u91CFapp</code>\u4E0A\uFF0C\u5728\u63A7\u5236\u53F0\u901A\u8FC7<code>app.title = &#39;xx&#39;</code> \uFF0C\u5373\u53EF\u66F4\u65B0dom</p><h2 id="react\u7684\u6570\u636E\u9A71\u52A8\u89C6\u56FE" tabindex="-1"><code>React</code>\u7684\u6570\u636E\u9A71\u52A8\u89C6\u56FE <a class="header-anchor" href="#react\u7684\u6570\u636E\u9A71\u52A8\u89C6\u56FE" aria-hidden="true">#</a></h2><blockquote><p>\u5728\u8BF4Vue\u7684\u6570\u636E\u9A71\u52A8\u89C6\u56FE\u524D\uFF0C\u6211\u4EEC\u5148\u770B\u770B<code>react</code>\u7684\u9A71\u52A8\u5F62\u5F0F\u662F\u901A\u8FC7<a href="https://react.docschina.org/docs/state-and-lifecycle.html" target="_blank" rel="noopener noreferrer">setState()</a></p></blockquote><p><img src="https://kingan-md-img.oss-cn-guangzhou.aliyuncs.com/blog/20220306154527.png" alt=""> \u6211\u4EEC\u4EFF\u7167\u8FD9\u79CD\u5F62\u5F0F\uFF0C\u518D\u6211\u4EEC\u7684vue\u7C7B\u4E2D\u52A0\u4E00\u4E2A<code>setData</code>\u65B9\u6CD5 \u{1F447}</p><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">Vue</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>el<span class="token punctuation">,</span>data<span class="token punctuation">,</span>template<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u521B\u5EFA\u4E00\u4E2AVue&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>el <span class="token operator">=</span> el
    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data
    <span class="token keyword">this</span><span class="token punctuation">.</span>template <span class="token operator">=</span> template

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderByDataTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u5904\u7406data template \u751F\u6210dom</span>
  <span class="token punctuation">}</span>

  <span class="token function">renderByDataTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newHtml <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>template<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\{\\{(.+?)\\}\\}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>newHtml<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> val<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> pre<span class="token punctuation">[</span>next<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">html</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> rootDom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
    rootDom<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> html
  <span class="token punctuation">}</span>

  <span class="token function">setData</span><span class="token punctuation">(</span><span class="token parameter">newData</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">,</span>newData<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderByDataTemp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u5728\u63A7\u5236\u53F0\u8F93\u5165<code>app.setData({title:&#39;aa&#39;})</code>\u6765\u66F4\u65B0\u89C6\u56FE</p><h2 id="vue\u7684\u6570\u636E\u9A71\u52A8\u89C6\u56FE" tabindex="-1">Vue\u7684\u6570\u636E\u9A71\u52A8\u89C6\u56FE <a class="header-anchor" href="#vue\u7684\u6570\u636E\u9A71\u52A8\u89C6\u56FE" aria-hidden="true">#</a></h2><blockquote><p>Vue\u4F1A\u628A\u8FD9\u79CD\u6570\u636E\u53EB\u505A\u54CD\u5E94\u5F0F\u6570\u636E\uFF0C\u5B9E\u73B0\u7684\u54CD\u5E94\u5F0F\u7684\u8FC7\u7A0B\u53EB\u505A\u6570\u636E\u52AB\u6301\u3001\u6570\u636E\u4EE3\u7406\u3001\u6570\u636E\u76D1\u542C <img src="https://kingan-md-img.oss-cn-guangzhou.aliyuncs.com/blog/20220307233604.png" alt=""></p></blockquote><p>\u539F\u7406\u76F8\u4FE1\u5927\u5BB6\u8033\u719F\u80FD\u8BE6\uFF0C<code>Vue2</code>\u4F7F\u7528 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener noreferrer">Object.defineProperty</a> \u7684API\u91CD\u5199\u5BF9\u8C61\u5C5E\u6027\u7684<code>get\u3001set</code>\uFF0C\u8FD9\u4E5F\u662FVue2\u4E0D\u652F\u6301IE9\u4EE5\u4E0B\u7684\u539F\u56E0</p><div class="language-js"><pre><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> $data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">1</span> <span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>x<span class="token punctuation">{</span>
  <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// data.x = newVal // \u5BFC\u81F4\u6B7B\u5FAA\u73AF</span>
    $data<span class="token punctuation">.</span>x <span class="token operator">=</span> newVal
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> $data<span class="token punctuation">.</span>x
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="\u89E3\u51B3object-defineproperty\u7684\u7F3A\u70B9" tabindex="-1">\u89E3\u51B3<code>Object.defineProperty</code>\u7684\u7F3A\u70B9 <a class="header-anchor" href="#\u89E3\u51B3object-defineproperty\u7684\u7F3A\u70B9" aria-hidden="true">#</a></h2><ul><li><code>$set(data, prop, newVal)</code></li></ul><div class="language-js"><pre><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">$set</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span>key<span class="token punctuation">,</span>val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>key<span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

obj<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span>
<span class="token function">$set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>\u91CD\u5199\u6570\u7EC4\u65B9\u6CD5</li></ul><div class="language-js"><pre><code>
</code></pre></div><h2 id="vue3\u7684proxy" tabindex="-1">Vue3\u7684proxy <a class="header-anchor" href="#vue3\u7684proxy" aria-hidden="true">#</a></h2><p>\u5173\u4E8E<a href="./../js/proxy.html">Proxy</a></p>`,20),o=[e];function c(u,l,i,k,r,d){return s(),a("div",null,o)}var m=n(p,[["render",c]]);export{g as __pageData,m as default};
