<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å‰ç«¯jsçš„æ¨¡å—åŒ– | blog</title>
    <meta name="description" content="vueã€jsã€nodejsç­‰ç­‰çš„å­¦ä¹ è®°å½•">
    <link rel="stylesheet" href="/assets/style.49eed234.css">
    <link rel="modulepreload" href="/assets/Home.ae65bc00.js">
    <link rel="modulepreload" href="/assets/app.d95e124d.js">
    <link rel="modulepreload" href="/assets/webpack_é‡å­¦webpack-02æ¨¡å—åŒ–åŸç†.md.be9e501e.lean.js">
    
    <meta name="twitter:title" content="å‰ç«¯jsçš„æ¨¡å—åŒ– | blog">
  <meta property="og:title" content="å‰ç«¯jsçš„æ¨¡å—åŒ– | blog">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="blog, back to home" data-v-675d8756 data-v-cc01ef16><!----> blog</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://gitee.com/hzh100" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>gitee <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://gitee.com/hzh100" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>gitee <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item"> ä»‹ç»</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/">ä»‹ç»</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">http</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/http/http2">http2</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/http/http3">http3</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/http/httpç¼“å­˜">httpç¼“å­˜</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">innermanage</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/innermanage/å†…ç®¡å‰ç«¯å·¥ç¨‹">å†…ç®¡å‰ç«¯å·¥ç¨‹</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">interview</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/JSåŸºç¡€">JSåŸºç¡€</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/TODO">TODO</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/å‰ç«¯é¢è¯•ä¹‹é“">å‰ç«¯é¢è¯•ä¹‹é“</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/å„ç§é¢˜ç›®01">å„ç§é¢˜ç›®01</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/æ‰‹å†™ç³»åˆ—-callbind">æ‰‹å†™ç³»åˆ—-callbind</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/æ‰‹å†™ç³»åˆ—-instanceof">æ‰‹å†™ç³»åˆ—-instanceof</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/æ‰‹å†™ç³»åˆ—-mapå’Œfilterå’Œreduce">æ‰‹å†™ç³»åˆ—-mapå’Œfilterå’Œreduce</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/æ‰‹å†™ç³»åˆ—-newåŸç†">æ‰‹å†™ç³»åˆ—-newåŸç†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/æ‰‹å†™ç³»åˆ—-setTimeæ¨¡æ‹ŸsetInterval">æ‰‹å†™ç³»åˆ—-setTimeæ¨¡æ‹ŸsetInterval</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/æ‰‹å†™ç³»åˆ—-å‘å¸ƒè®¢é˜…å’Œè§‚å¯Ÿè€…">æ‰‹å†™ç³»åˆ—-å‘å¸ƒè®¢é˜…å’Œè§‚å¯Ÿè€…</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/æ‰‹å†™ç³»åˆ—-å¤æ‚axios">æ‰‹å†™ç³»åˆ—-å¤æ‚axios</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/æ‰‹å†™ç³»åˆ—-å¤æ‚promise">æ‰‹å†™ç³»åˆ—-å¤æ‚promise</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/æ‰‹å†™ç³»åˆ—-æ•°ç»„è½¬æ ‘">æ‰‹å†™ç³»åˆ—-æ•°ç»„è½¬æ ‘</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/æ‰‹å†™ç³»åˆ—-æ·±æ‹·è´">æ‰‹å†™ç³»åˆ—-æ·±æ‹·è´</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/æ‰‹å†™ç³»åˆ—-é˜²æŠ–èŠ‚æµ">æ‰‹å†™ç³»åˆ—-é˜²æŠ–èŠ‚æµ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/interview/ç®—æ³•01">ç®—æ³•01</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">jiagou</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/jiagou/monorepo">monorepo</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jiagou/ä»0åˆ°1æ„å»ºç¬¦åˆæ ‡å‡†çš„å…¬å…±åº“">ä»0åˆ°1æ„å»ºç¬¦åˆæ ‡å‡†çš„å…¬å…±åº“</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jiagou/åˆ‡æ¢ä¸»é¢˜æ–¹æ¡ˆ">åˆ‡æ¢ä¸»é¢˜æ–¹æ¡ˆ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jiagou/å‰ç«¯åŸºç¡€å»ºè®¾ä¸æ¶æ„30è®²">å‰ç«¯åŸºç¡€å»ºè®¾ä¸æ¶æ„30è®²</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jiagou/æ­å»ºç»„ä»¶åº“">æ­å»ºç»„ä»¶åº“</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jiagou/æ·±å…¥babel">æ·±å…¥babel</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jiagou/è‡ªåŠ¨ç”ŸæˆæŒ‰éœ€å¯¼å‡ºç›®å½•">è‡ªåŠ¨ç”ŸæˆæŒ‰éœ€å¯¼å‡ºç›®å½•</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jiagou/è¡¨å•ç»„ä»¶å¸¦æ ¡éªŒåŠŸèƒ½">è¡¨å•ç»„ä»¶å¸¦æ ¡éªŒåŠŸèƒ½</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">js</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/js/classå’Œæ„é€ å‡½æ•°">classå’Œæ„é€ å‡½æ•°</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js/dayFormatæ­£åˆ™çš„ä½¿ç”¨">dayFormatæ­£åˆ™çš„ä½¿ç”¨</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js/luhnç®—æ³•">luhnç®—æ³•</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js/Object.entries">Object.entries</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js/proxy">proxy</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js/ä¼˜é›…çš„Class">ä¼˜é›…çš„Class</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js/å‰ç«¯æ¨¡å—åŒ–">å‰ç«¯æ¨¡å—åŒ–</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js/æµè§ˆå™¨åƒåœ¾å›æ”¶">æµè§ˆå™¨åƒåœ¾å›æ”¶</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js/æ·±å…¥babel">æ·±å…¥babel</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js/é—­åŒ…ä¸åƒåœ¾å›æ”¶">é—­åŒ…ä¸åƒåœ¾å›æ”¶</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">microFrontend</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/microFrontend/ä»‹ç»">ä»‹ç»</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/microFrontend/æ‹Ÿå®šå¾®å‰ç«¯æ¶æ„è®¾è®¡">æ‹Ÿå®šå¾®å‰ç«¯æ¶æ„è®¾è®¡</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/microFrontend/æ¶æ„æ€æƒ³">æ¶æ„æ€æƒ³</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">node</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/node/cheetah-learn">cheetah-learn</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/node/cliç›¸å…³å­¦ä¹ ">cliç›¸å…³å­¦ä¹ </a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">performance</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/performance/serviceWorker">serviceWorker</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/performance/ssr">ssr</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/performance/æ…•è¯¾ç½‘webæ€§èƒ½ä¼˜åŒ–">æ…•è¯¾ç½‘webæ€§èƒ½ä¼˜åŒ–</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">typescript</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript/vue2åŠ ts">vue2åŠ ts</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">vue</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/create-vueè„šæ‰‹æ¶">create-vueè„šæ‰‹æ¶</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/esbuildä½¿ç”¨">esbuildä½¿ç”¨</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/keep-aliveåŸç†">keep-aliveåŸç†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/vue-routerå®ç°åŸç†">vue-routerå®ç°åŸç†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/æ¨¡æ¿ç¼–è¯‘">æ¨¡æ¿ç¼–è¯‘</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/è·¯ç”±é¡µé¢å†å²æ ˆçš„å¤„ç†">è·¯ç”±é¡µé¢å†å²æ ˆçš„å¤„ç†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-01æ¨¡æ¿è¯­æ³•">é‡å­¦vue-01æ¨¡æ¿è¯­æ³•</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-02æ•°æ®é©±åŠ¨è§†å›¾">é‡å­¦vue-02æ•°æ®é©±åŠ¨è§†å›¾</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-03renderå‡½æ•°">é‡å­¦vue-03renderå‡½æ•°</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-04å†…ç½®æŒ‡ä»¤">é‡å­¦vue-04å†…ç½®æŒ‡ä»¤</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-05filterå¤šä½™å—">é‡å­¦vue-05filterå¤šä½™å—</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-06computer">é‡å­¦vue-06computer</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-07watch">é‡å­¦vue-07watch</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-08ç»„ä»¶">é‡å­¦vue-08ç»„ä»¶</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-09ç”Ÿå‘½å‘¨æœŸ">é‡å­¦vue-09ç”Ÿå‘½å‘¨æœŸ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-10refæ˜¯ä»€ä¹ˆ">é‡å­¦vue-10refæ˜¯ä»€ä¹ˆ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-11nextTick">é‡å­¦vue-11nextTick</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-8ç»„ä»¶é€šä¿¡">é‡å­¦vue-8ç»„ä»¶é€šä¿¡</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-vue.use">é‡å­¦vue-vue.use</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/é‡å­¦vue-åŠ¨ç”»å†…ç½®ç»„ä»¶">é‡å­¦vue-åŠ¨ç”»å†…ç½®ç»„ä»¶</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">vue3</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue3/elementPlus">elementPlus</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vue3/å…¥é—¨">å…¥é—¨</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">webComponents</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/webComponents/1. webComponentä»‹ç»">1. webComponentä»‹ç»</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/webComponents/2. customElements">2. customElements</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">webpack</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/webpack/1">1</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/webpack/å®ç°ä¸€ä¸ªè‡ªå·±çš„è„šæ‰‹æ¶">å®ç°ä¸€ä¸ªè‡ªå·±çš„è„šæ‰‹æ¶</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/webpack/é‡å­¦webpack-01æ‰“åŒ…å·¥å…·çš„æ€è€ƒ">é‡å­¦webpack-01æ‰“åŒ…å·¥å…·çš„æ€è€ƒ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/webpack/é‡å­¦webpack-02æ¨¡å—åŒ–åŸç†">é‡å­¦webpack-02æ¨¡å—åŒ–åŸç†</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#å‰ç«¯jsçš„æ¨¡å—åŒ–">å‰ç«¯jsçš„æ¨¡å—åŒ–</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#webpackçš„æ¨¡å—åŒ–">webpackçš„æ¨¡å—åŒ–</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#æ­ä¸€ä¸ªç®€æ˜“webpackç¤ºä¾‹">æ­ä¸€ä¸ªç®€æ˜“webpackç¤ºä¾‹</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#åˆ†ææ‰“åŒ…åäº§ç‰©">åˆ†ææ‰“åŒ…åäº§ç‰©</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#webpack-require">webpack.require</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#webpack4çš„æ‰“åŒ…äº§ç‰©åˆ†æ">webpack4çš„æ‰“åŒ…äº§ç‰©åˆ†æ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#æ‰‹å†™æ¨¡å—åŒ–æ‰“åŒ…å·¥å…·">æ‰‹å†™æ¨¡å—åŒ–æ‰“åŒ…å·¥å…·</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#æ€»ç»“">æ€»ç»“</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/webpack/é‡å­¦webpack-03loader">é‡å­¦webpack-03loader</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/webpack/é‡å­¦webpack-04plugin">é‡å­¦webpack-04plugin</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/webpack/é‡å­¦webpack-05HMRçƒ­æ›´æ–°">é‡å­¦webpack-05HMRçƒ­æ›´æ–°</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">week</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/week/202110-1">202110-1</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/week/202110-2">202110-2</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/week/202111-1">202111-1</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/week/ç¼“å­˜å·¥å…·æ–¹æ³•æ€è·¯">ç¼“å­˜å·¥å…·æ–¹æ³•æ€è·¯</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">work</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/work/ioså°ç™½æ¡é—®é¢˜">ioså°ç™½æ¡é—®é¢˜</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><blockquote><p><code>webpack</code> æ˜¯ä¸€ä¸ªç”¨äºç°ä»£ <code>JavaScript</code> åº”ç”¨ç¨‹åºçš„ <code>é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·</code>--<a href="https://webpack.docschina.org/concepts/" target="_blank" rel="noopener noreferrer">webpackå®˜æ–¹æ–‡æ¡£</a></p></blockquote><h2 id="å‰ç«¯jsçš„æ¨¡å—åŒ–" tabindex="-1">å‰ç«¯jsçš„æ¨¡å—åŒ– <a class="header-anchor" href="#å‰ç«¯jsçš„æ¨¡å—åŒ–" aria-hidden="true">#</a></h2><p>å…ˆæŠ›å¼€æ‰“åŒ…å·¥å…·çš„æ¨¡å—åŒ–ï¼Œæˆ‘ä»¬çœ‹çœ‹çº¯jsçš„æ¨¡å—ï¼Œ<code>&lt;script src=&quot;&quot;&gt;ã€CMDã€ESMã€UMD</code></p><p><a href="./../js/å‰ç«¯æ¨¡å—åŒ–.html">å‰ç«¯æ¨¡å—åŒ–</a></p><h2 id="webpackçš„æ¨¡å—åŒ–" tabindex="-1">webpackçš„æ¨¡å—åŒ– <a class="header-anchor" href="#webpackçš„æ¨¡å—åŒ–" aria-hidden="true">#</a></h2><p>webpackè¦åšçš„æ˜¯è¯†åˆ«å¼€å‘è¿‡ç¨‹çš„nodejsæ¨¡å—åŒ–è½¬ä¸ºæµè§ˆå™¨çš„æ¨¡å—åŒ–æ–¹å¼</p><p>webpacké€‰æ‹©è®©æµè§ˆå™¨æ”¯æŒæ¨¡å—åŒ–çš„æ–¹å¼æ˜¯è‡ªå·±å®ç°ç±»ä¼¼nodejsçš„CJS</p><h3 id="æ­ä¸€ä¸ªç®€æ˜“webpackç¤ºä¾‹" tabindex="-1">æ­ä¸€ä¸ªç®€æ˜“webpackç¤ºä¾‹ <a class="header-anchor" href="#æ­ä¸€ä¸ªç®€æ˜“webpackç¤ºä¾‹" aria-hidden="true">#</a></h3><p>å®‰è£…<code>yarn add -D webpack webpack-cli</code></p><div class="language-js"><pre><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment">// index.js</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./a.js&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./b.js&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>

<span class="token comment">// a.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">&#39;a&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment">// b.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">&#39;b&#39;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿è¡Œ<code>npx webpack</code> åªç”Ÿæˆäº†<code>dist/main.js</code>ä¸€ä¸ªæ–‡ä»¶</p><h3 id="åˆ†ææ‰“åŒ…åäº§ç‰©" tabindex="-1">åˆ†ææ‰“åŒ…åäº§ç‰© <a class="header-anchor" href="#åˆ†ææ‰“åŒ…åäº§ç‰©" aria-hidden="true">#</a></h3><p>ğŸ‘‡ æˆ‘ä»¬æŠŠæ³¨é‡Šåˆ æ‰çœ‹çœ‹</p><div class="language-js"><pre><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> __webpack_modules__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;./a.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;module.exports = {\n  a: &#39;a&#39;\n}\n\n//# sourceURL=webpack://origin-webpack/./a.js?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;./b.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;module.exports = {\n  b: &#39;b&#39;\n}\n\n//# sourceURL=webpack://origin-webpack/./b.js?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;./index.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">__unused_webpack_module<span class="token punctuation">,</span> __unused_webpack_exports<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;const a = __webpack_require__(/*! ./a.js */ \&quot;./a.js\&quot;)\nconst b = __webpack_require__(/*! ./b.js */ \&quot;./b.js\&quot;)\nconsole.log(a,b)\n\n//# sourceURL=webpack://origin-webpack/./index.js?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">var</span> __webpack_module_cache__ <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">function</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token parameter">moduleId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> cachedModule <span class="token operator">=</span> __webpack_module_cache__<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>cachedModule <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> cachedModule<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">var</span> module <span class="token operator">=</span> __webpack_module_cache__<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
		__webpack_modules__<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> __webpack_require__<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
  
	<span class="token keyword">var</span> __webpack_exports__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token string">&quot;./index.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>ğŸ‘‡ æˆ‘ä»¬å†ç²¾ç®€ä¸€ä¸‹å˜é‡å</p><div class="language-js"><pre><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> _modules <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;./a.js&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;module.exports = {a:&#39;a&#39;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;./b.js&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;module.exports = {b:&#39;b&#39;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;./index.js&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">__unused_webpack_module<span class="token punctuation">,</span> __unused_webpack_exports<span class="token punctuation">,</span> _require</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">eval</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        const a = _require(&quot;./a.js&quot;)
        const b = _require(&quot;./b.js&quot;)
        console.log(a,b)
      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span>  _cache <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">_require</span><span class="token punctuation">(</span><span class="token parameter">moduleName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cachedModule <span class="token operator">=</span> _cache<span class="token punctuation">[</span>moduleName<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cachedModule <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> cachedModule<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> module <span class="token operator">=</span> _cache<span class="token punctuation">[</span>moduleName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    _modules<span class="token punctuation">[</span>moduleName<span class="token punctuation">]</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> _require<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">_require</span><span class="token punctuation">(</span><span class="token string">&#39;./index.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>ğŸ‘† æŠŠè¿™æ®µä»£ç ä¸¢åˆ°æµè§ˆå™¨å°±å¯ä»¥ç›´æ¥è¿è¡Œäº†</p><h2 id="webpack-require" tabindex="-1">webpack.require <a class="header-anchor" href="#webpack-require" aria-hidden="true">#</a></h2><blockquote><p>ä¸ç†Ÿæ‚‰nodejsçš„CommonJsæ¨¡å—åŒ–çš„è¿˜æ˜¯å…ˆç†Ÿæ‚‰ä¸€ä¸‹ï¼Œå› ä¸ºwebpackçš„æ¨¡å—åŒ–å°±æ˜¯ä¸€ç§CJS</p></blockquote><p>å’Œnodejsä¸€æ ·ï¼Œwebpackä¼šæŠŠæ¯ä¸ªæ¨¡å—jsåŒ…è£…ä¸€å±‚æ³¨å…¥æ¨¡å—åŒ–å·¥å…·æ–¹æ³•</p><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">wrap</span><span class="token punctuation">(</span><span class="token parameter">fileContent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ‹¼æ¥å‡½æ•°è¿›è¡ŒåŒ…è£… æ³¨æ„è¦åŒ…ä¸€å±‚()æ‰ä¸ä¼šè¢«evalç«‹å³æ‰§è¡Œ,è€Œæ˜¯è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²()å†…çš„å‡½æ•°</span>
  <span class="token keyword">const</span> newfileContent <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(function (myrequire){
    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileContent<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
  })</span><span class="token template-punctuation string">`</span></span>
  <span class="token keyword">return</span> <span class="token function">eval</span><span class="token punctuation">(</span>newfileContent<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ğŸ‘‡ æˆ‘ä»¬å†å»æ‰webpackçš„cacheéƒ¨åˆ†(åœ¨ <a href="./../js/å‰ç«¯æ¨¡å—åŒ–.html#ä»0å®ç°ç®€æ˜“commonjs">ä»0å®ç°CommonJs</a> é‡Œè§£é‡Šè¿‡cacheç”¨æ¥è§£å†³é‡å¤å¼•å…¥çš„é—®é¢˜)</p><div class="language-js"><pre><code><span class="token keyword">const</span> _modules <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">_require</span><span class="token punctuation">(</span><span class="token parameter">moduleName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span>  module <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  _modules<span class="token punctuation">[</span>moduleName<span class="token punctuation">]</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> _require<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ğŸ‘† å’Œæˆ‘ä»¬æ‰‹å†™nodejsçš„CJSä¸€æ¨¡ä¸€æ ·</p><hr><p>å½“webpacké…ç½® <code>mode:none</code> çš„æ—¶å€™ä¸ä¼šç”¨evalåŒ…,evalä¼šå¯¼è‡´è°ƒè¯•æ‰“åŒ…åäº§ç‰©æ— æ³•æ–­ç‚¹è°ƒè¯•æ¨¡å—å†…å®¹</p><p>TODO: <code>mode:none</code> çš„æ—¶å€™ä¸ºä»€ä¹ˆç”¨æ•°ç»„å’Œåºåˆ— è€Œä¸æ˜¯æ–‡ä»¶åï¼ˆæ”¶é›†ä¾èµ–å…³ç³»æ›´å¿«ï¼Ÿ</p><hr><h2 id="webpack4çš„æ‰“åŒ…äº§ç‰©åˆ†æ" tabindex="-1">webpack4çš„æ‰“åŒ…äº§ç‰©åˆ†æ <a class="header-anchor" href="#webpack4çš„æ‰“åŒ…äº§ç‰©åˆ†æ" aria-hidden="true">#</a></h2><blockquote><p>å¯èƒ½æœ‰äººå‘ç°äº†ï¼Œæ€ä¹ˆè·Ÿç½‘ä¸Šå¾ˆå¤šçš„webpackæ‰“åŒ…äº§ç‰©ä¸å¤ªä¸€æ ·ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä¸Šé¢çš„æ˜¯webpack5çš„æ‰“åŒ…äº§ç‰©ï¼Œè€Œä»¥å‰webpack4æ˜¯å¦ä¸€ç§ç»“æ„</p></blockquote><div class="language-js"><pre><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">modules</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">_require</span><span class="token punctuation">(</span><span class="token parameter">modelId</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">require</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre></div><h2 id="æ‰‹å†™æ¨¡å—åŒ–æ‰“åŒ…å·¥å…·" tabindex="-1">æ‰‹å†™æ¨¡å—åŒ–æ‰“åŒ…å·¥å…· <a class="header-anchor" href="#æ‰‹å†™æ¨¡å—åŒ–æ‰“åŒ…å·¥å…·" aria-hidden="true">#</a></h2><blockquote><p>å‚è€ƒ <a href="https://github.com/dykily/simple_webpack/blob/master/bundler.js" target="_blank" rel="noopener noreferrer">simple_webpack --github</a></p></blockquote><p>ä¸è€ƒè™‘ä»£ç è½¬è¯‘ï¼Œæˆ‘ä»¬å°è¯•å®ç°ä¸€ä¸ª<strong>åªå…·å¤‡å®ç°æ¨¡å—åŒ–çš„æ‰“åŒ…å·¥å…·</strong> å’Œ<code>ä»0å®ç°nodejsçš„CJS</code>ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è§£å†³çš„ä¸€ä¸ªéš¾ç‚¹æ˜¯<strong>æ·±åº¦è¯†åˆ«</strong>æ–‡ä»¶å†…å®¹ä¸­çš„<code>require</code>å’Œ<code>export</code></p><ul><li>æ”¶é›†ï¼šæ”¶é›†jsçš„ä¾èµ–å…³ç³»æˆä¸€ä¸ªæ•°ç»„/å¯¹è±¡(ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆé€’å½’-é˜Ÿåˆ—)</li><li>æ³¨å…¥ï¼šéå†æ¨¡å—ä¾èµ–å…³ç³»æ•°ç»„,ç”¨ç«‹å³æ‰§è¡Œjsæ³¨å…¥requireç­‰å‚æ•°å®ç°æµè§ˆå™¨æ”¯æŒCMD(å‚è€ƒæ‰‹å†™CommonJs)</li><li>è¾“å‡ºï¼šç«‹å³æ‰§è¡Œå‡½æ•°æ˜¯ç”¨å­—ç¬¦ä¸²å†™æˆçš„ï¼Œæœ€ç»ˆåˆå¹¶å†™å…¥ä¸€ä¸ªjsæ–‡ä»¶ä¸­</li></ul><blockquote><p>ä¸ç”¨ASTï¼Œç”¨æ­£åˆ™å¤„ç†æ–‡ä»¶å†…å®¹æ¥æ³¨å…¥requireå¹¶ä¸”æ•´åˆæˆä¸€ä¸ªjsä¹Ÿæ˜¯å¯ä»¥çš„ æ­£åˆ™ä¹Ÿä¸å¤±ä¸ºä¸€ç§æ”¶é›†ä¾èµ–çš„åŠæ³• ä½†æ˜¯æ­£åˆ™çš„æ•ˆç‡å’Œå±€é™æ€§ä¹Ÿæ‘†åœ¨é‚£é‡Œï¼Œæˆ‘ä»¬ç”¨æ›´æˆç†Ÿçš„ASTæ¥æ”¶é›†å§</p></blockquote><p>webpackçš„å†…éƒ¨ç”¨çš„æ˜¯æ”¹é€ åçš„ <a href="https://www.npmjs.com/package/acorn" target="_blank" rel="noopener noreferrer">acorn-npm</a> / <a href="https://github.com/acornjs/acorn" target="_blank" rel="noopener noreferrer">acorn-github</a> æ¥ç”ŸæˆAST</p><p><code>babel</code>ä¹Ÿæ˜¯åŸºäº<code>acorn</code>ç”ŸæˆASTçš„</p><hr><p>æ€è€ƒğŸ¤”: <code>acorn</code>å’Œ<code>babel-parser</code>éƒ½æ˜¯jsçš„è§£æå™¨ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ</p><blockquote><p><code>@babel/parser</code>ï¼ˆä¹‹å‰å°±æ˜¯<code>babylon</code>ï¼‰æ˜¯ä»<code>acorn fork</code> å‡ºæ¥çš„ï¼Œåªæ˜¯åŸºæœ¬éƒ½è¢«é‡å†™äº†ï¼Œä½†æ˜¯æœ‰äº›<code>acorn</code>çš„ç®—æ³•ä»çƒ­è¢«æ²¿ç”¨ä¸‹æ¥äº†ã€‚</p></blockquote><ul><li>@babel/parserä¸æ”¯æŒç¬¬ä¸‰æ–¹çš„æ’ä»¶ã€‚</li><li>acornåªæ”¯æŒç¬¬å››é˜¶æ®µçš„ææ¡ˆ(åŸºæœ¬ç­‰äºå†™å…¥æ ‡å‡†äº†ï¼Œåªæ˜¯æ—¶é—´çš„é—®é¢˜ è§æ­¤)ã€‚</li><li>ASTçš„æ ¼å¼ä¸åŒï¼Œä¸è¿‡å¯ä»¥å¯åŠ¨@babel/parserçš„estreeæ’ä»¶æ¥å’Œacornçš„ASTæ ¼å¼åŒ¹é…</li></ul><hr><p>å› ä¸º <code>webpack</code> å¹¶æ²¡æœ‰æŠŠ <code>acorn</code> éƒ¨åˆ†çš„ä»£ç å‘å¸ƒæˆåŒ…è€Œæ˜¯<a href="https://github.com/webpack/webpack/blob/a07a1269f0a0b23d40de6c9565eeaf962fbc8904/lib/javascript/JavascriptParser.js" target="_blank" rel="noopener noreferrer">å†…éƒ¨çš„å·¥å…·æ–¹æ³•javascript/JavascriptParser.js</a></p><p>ğŸ‘‡ å› æ­¤æˆ‘ä»¬é€‰æ‹©ç”¨ <code>babel</code> æ¥ç”Ÿæˆ<code>AST</code></p><div class="language-js"><pre><code><span class="token comment">// getAst.js</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> Parser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/parser&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">getAst</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
  <span class="token comment">// å°†æ–‡ä»¶å†…å®¹è½¬ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘</span>
  <span class="token keyword">return</span> Parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&#39;module&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> getAst
</code></pre></div><p><img src="https://kingan-md-img.oss-cn-guangzhou.aliyuncs.com/blog/20220320204335.png" alt=""> ğŸ‘‡ æ‰“å°ä¸€ä¸ªASTèŠ‚ç‚¹Nodeçš„å†…å®¹å­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬æœ‰åŠæ³•é€šè¿‡èŠ‚ç‚¹typeè¯†åˆ«å‡º<code>import</code>ï¼Œå´æ²¡åŠæ³•è¯†åˆ« <code>require</code></p><ul><li>ImportDeclaration: å¼•å…¥å£°æ˜</li><li>ExpressionStatement: è¡¨è¾¾å¼è¯­å¥</li></ul><p><img src="https://kingan-md-img.oss-cn-guangzhou.aliyuncs.com/blog/20220320210448.png" alt=""></p><p>æˆ‘ä»¬å¸Œæœ›è¯†åˆ«å‡ºASTä¸­çš„å¼•å…¥ä»£ç ï¼ŒæŠŠè¢«å¼•å…¥èµ„æºè·¯å¾„æ”¶é›†åˆ°ä¸€ä¸ªé›†åˆä¸­ ç­‰å¾…æˆ‘ä»¬åç»­çš„å¤„ç†</p><hr><p>æ€è€ƒğŸ¤”: æ‰‹å†™nodejsçš„CJSä¸ºä»€ä¹ˆä¸éœ€è¦è¯†åˆ«requireï¼Ÿ</p><ul><li>ç¡®å®ï¼Œæˆ‘ä»¬è¦å®ç°ä¸šåŠ¡ä»£ç ä¸­å†™requireï¼Œè¿è¡Œæ—¶requireå­˜åœ¨çš„å½¢å¼ï¼Œåªè¦åŒ…è£…æ³¨å…¥å³å¯ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸è¯†åˆ«requireç›´æ¥å¾€å…¥å£æ–‡ä»¶æ³¨å…¥requireï¼Œä½†æ˜¯æ²¡åŠæ³•æ‰¾åˆ°æ·±åº¦çš„èµ„æºå¼•ç”¨</li><li>åœ¨nodejsä¸­çš„åšæ³•æ˜¯åŒ…è£…æ³¨å…¥åç«‹å³æ‰§è¡Œï¼Œå› æ­¤å¯ä»¥è‡ªç„¶å½¢æˆé€’å½’æ³¨å…¥</li><li>ä½†æ˜¯åœ¨æ‰“åŒ…å·¥å…·é‡Œï¼Œæˆ‘ä»¬è¦è¾“å‡ºä¸€ä¸ªæ‰€æœ‰å¼•å…¥èµ„æºçš„æ¨¡å—é›†åˆï¼Œè€Œä¸æ˜¯è¦ç«‹å³æ‰§è¡Œä¸šåŠ¡ä»£ç ï¼Œå› æ­¤è¦é€šè¿‡ASTæ¥è¯†åˆ«æ‰€æœ‰å¼•å…¥èµ„æºæ•´åˆåˆ°ä¸€ä¸ªæ–‡ä»¶å†…å®¹ä¸­è¾“å‡º</li></ul><hr><p>æ€ä¹ˆè®©ASTè¯†åˆ«<code>require</code>,æˆ‘ä»¬å…ˆæ”¾ä¸€ä¸‹ã€‚ã€‚ã€‚(ğŸ¥¬ğŸ¶)</p><p>æˆ‘ä»¬ä¸šåŠ¡ä»£ç æ”¹ä¸ºç”¨importï¼Œè¯†åˆ«å‡ºæ¥åè½¬æˆ<code>require</code>ï¼Œå†æ³¨å…¥æˆ‘ä»¬çš„<code>require</code>ã€‚ã€‚ã€‚</p><p>ğŸ‘‡ ç”¨babelè¯†åˆ«ä¸šåŠ¡ä»£ç ä¸­çš„import</p><div class="language-js"><pre><code><span class="token keyword">const</span> traverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@babel/traverse&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">findRequire</span><span class="token punctuation">(</span><span class="token parameter">ast</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// keyå’Œvalueéƒ½ç”¨è·¯å¾„</span>
  <span class="token comment">//éå†å½“å‰astï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰</span>
  <span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">//æ‰¾åˆ°æœ‰ importè¯­æ³• çš„å¯¹åº”èŠ‚ç‚¹</span>
    <span class="token function-variable function">ImportDeclaration</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//å¦‚æœå½“å‰jsæ–‡ä»¶ æœ‰ä¸€å¥ import message from &#39;./message.js&#39;ï¼Œ </span>
      <span class="token comment">// node.source.valueçš„å€¼å°±æ˜¯&#39;./message.js&#39;</span>
      dependencies<span class="token punctuation">[</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> dependencies
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> findRequire
</code></pre></div><p>ğŸ‘‡ ç”¨babelæŠŠä¸šåŠ¡ä»£ç çš„importè½¬ä¸ºrequireè¾“å‡º</p><div class="language-js"><pre><code><span class="token comment">// ç”¨babel æŠŠä¸šåŠ¡ä»£ç çš„importè½¬ä¸ºrequireè¾“å‡º</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> transformFromAst <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@babel/core&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">transformFromAst</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>åˆ°è¿™é‡Œæˆ‘ä»¬åªæ˜¯é€šè¿‡babelæŠŠå…¥å£æ–‡ä»¶è½¬æˆASTæ¥æ”¶é›†å…¥å£æ–‡ä»¶çš„ä¾èµ–è€Œå·²</p><p>æˆ‘ä»¬è¿˜è¦é€’å½’å…¥å£æ–‡ä»¶çš„å­ä¾èµ–è½¬æˆASTæ¥æ”¶é›†å…¶ä¾èµ–</p><p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹©å¹¿åº¦ä¼˜å…ˆçš„é€’å½’(é˜Ÿåˆ—)</p><p>å¦‚ğŸ‘‡ <code>deepRequire()</code></p><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">Compiler</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> entry<span class="token punctuation">,</span> output <span class="token punctuation">}</span> <span class="token operator">=</span> options <span class="token comment">// webpack é…ç½®</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>entry <span class="token operator">=</span> entry <span class="token comment">// å…¥å£</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>output <span class="token operator">=</span> output <span class="token comment">// å‡ºå£</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>modules <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// æ¨¡å—</span>
  <span class="token punctuation">}</span>
  <span class="token function">parse</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> ast <span class="token operator">=</span> <span class="token function">getAst</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token comment">// å…¥å£æ–‡ä»¶çš„ast</span>
    <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token function">findRequire</span><span class="token punctuation">(</span>ast<span class="token punctuation">)</span> <span class="token comment">// æ”¶é›†ï¼šéå†astæ¥è¯†åˆ«requireç­‰å¼•å…¥èµ„æº(ä¸å½±å“åŸä»£ç )</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">transformFromAst</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> code<span class="token punctuation">,</span> dependencies<span class="token punctuation">,</span> <span class="token literal-property property">fileName</span><span class="token operator">:</span>path <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">deepRequire</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> module <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> module<span class="token punctuation">.</span>dependencies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> absolutePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å¾—å­ä¾èµ–ï¼ˆå­æ¨¡å—ï¼‰çš„ä¾èµ–é¡¹ã€ä»£ç ã€æ¨¡å—idï¼Œæ–‡ä»¶å</span>
        <span class="token keyword">const</span> childMoule <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>absolutePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å°†å­ä¾èµ–ä¹ŸåŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¿åº¦éå†</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>childMoule<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// æ„å»ºå¯åŠ¨</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>entry<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment">// å…¥å£æ–‡ä»¶æ¨¡å—ä¿¡æ¯</span>
    <span class="token function">deepRequire</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™æ ·æ¯ä¸ªçˆ¶æ¨¡å—çš„ä¿¡æ¯ä¸­å°±å¸¦ç€å­æ¨¡å—çš„è·¯å¾„ è€Œå­æ¨¡å—å¯¹è±¡åˆ™æ‹æ‰åœ¨äº†æ¨¡å—åˆ—è¡¨ä¸­</p><p>æœ€åæˆ‘ä»¬éå†æ‰€æœ‰æ¨¡å—æ³¨å…¥require(åŒ…è£…ä¸€å±‚),å¹¶æ•´åˆèµ·æ¥</p><div class="language-js"><pre><code><span class="token comment">// setRequire.js</span>
<span class="token comment">// åŒ…è£…å‡½æ•°æ³¨å…¥require</span>
<span class="token keyword">function</span> <span class="token function">setRequire</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>module<span class="token punctuation">.</span>fileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;: function (require, module, exports){
      </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>module<span class="token punctuation">.</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
    },
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> setRequire

<span class="token comment">// index.js</span>
<span class="token keyword">function</span> <span class="token function">wrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> modulesString <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">// ä½œä¸ºå‚æ•°çš„æ¨¡å—åˆ—è¡¨-å› ä¸ºæ˜¯å†™å…¥æ–‡ä»¶çš„å†…å®¹ï¼Œå› æ­¤æ˜¯ä¸ªå­—ç¬¦ä¸²</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> module <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    modulesString <span class="token operator">+=</span> <span class="token function">setRequire</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token comment">// æ³¨å…¥ï¼šç»™æ‰€æœ‰æ¨¡å—æ³¨å…¥requireç­‰å‚æ•°å®ç°æµè§ˆå™¨æ”¯æŒCMD</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> modulesString
<span class="token punctuation">}</span>
</code></pre></div><p>åŒ…è£…æˆç«‹å³æ‰§è¡Œå‡½æ•°</p><div class="language-js"><pre><code><span class="token comment">// generate.js</span>
<span class="token comment">// åˆå¹¶å¤„ç†åçš„æ¨¡å—å†™å…¥ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ä¸­</span>
<span class="token keyword">function</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token parameter">modules<span class="token punctuation">,</span>entryPath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
(function(modules){
  //åˆ›å»ºrequireå‡½æ•°ï¼Œ å®ƒæ¥å—ä¸€ä¸ªæ¨¡å—IDï¼ˆè¿™ä¸ªæ¨¡å—idæ˜¯æ•°å­—0ï¼Œ1ï¼Œ2ï¼‰ ï¼Œå®ƒä¼šåœ¨æˆ‘ä»¬ä¸Šé¢å®šä¹‰ modules ä¸­æ‰¾åˆ°å¯¹åº”æ˜¯æ¨¡å—.
  function require(fileName){
    const module = modules[fileName];
    const module = {exports:{}};
    //æ‰§è¡Œæ¯ä¸ªæ¨¡å—çš„ä»£ç ã€‚
    fn(require,module,module.exports);
    return module.exports;
  }
  //æ‰§è¡Œå…¥å£æ–‡ä»¶ï¼Œ
  require(&#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entryPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;);
})({</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>modules<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">})
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> generate
</code></pre></div><div class="language-js"><pre><code><span class="token comment">// outputFile.js</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">outputFile</span><span class="token punctuation">(</span><span class="token parameter">fileContent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log(fileContent)</span>
  fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">&quot;./main.js&quot;</span><span class="token punctuation">,</span> fileContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> outputFile
</code></pre></div><p>ğŸ‘‡ æœ€ç»ˆçš„classç±»</p><div class="language-js"><pre><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>transformFromAst<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@babel/core&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> getAst <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./getAst.js&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> findRequire <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./findRequire.js&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> outputFile <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./outputFile.js&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> setRequire <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./setRequire.js&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> generate <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./generate&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Compiler</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> entry<span class="token punctuation">,</span> output <span class="token punctuation">}</span> <span class="token operator">=</span> options <span class="token comment">// webpack é…ç½®</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>entry <span class="token operator">=</span> entry <span class="token comment">// å…¥å£</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>output <span class="token operator">=</span> output <span class="token comment">// å‡ºå£</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>modules <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// æ¨¡å—</span>
  <span class="token punctuation">}</span>
  <span class="token function">parse</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> ast <span class="token operator">=</span> <span class="token function">getAst</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token comment">// å…¥å£æ–‡ä»¶çš„ast</span>
    <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token function">findRequire</span><span class="token punctuation">(</span>ast<span class="token punctuation">)</span> <span class="token comment">// æ”¶é›†ï¼šéå†astæ¥è¯†åˆ«requireç­‰å¼•å…¥èµ„æº(ä¸å½±å“åŸä»£ç )</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">transformFromAst</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>code<span class="token punctuation">,</span>dependencies<span class="token punctuation">,</span><span class="token literal-property property">fileName</span><span class="token operator">:</span>path<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">deepRequire</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> module <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> module<span class="token punctuation">.</span>dependencies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> absolutePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å¾—å­ä¾èµ–ï¼ˆå­æ¨¡å—ï¼‰çš„ä¾èµ–é¡¹ã€ä»£ç ã€æ¨¡å—idï¼Œæ–‡ä»¶å</span>
        <span class="token keyword">const</span> childMoule <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>absolutePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å°†å­ä¾èµ–ä¹ŸåŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¿åº¦éå†</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>childMoule<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">wrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> modulesString <span class="token operator">=</span> <span class="token string">&#39;&#39;</span> <span class="token comment">// ä½œä¸ºå‚æ•°çš„æ¨¡å—åˆ—è¡¨-å› ä¸ºæ˜¯å†™å…¥æ–‡ä»¶çš„å†…å®¹ï¼Œå› æ­¤æ˜¯ä¸ªå­—ç¬¦ä¸²</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> module <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      modulesString <span class="token operator">+=</span> <span class="token function">setRequire</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token comment">// æ³¨å…¥ï¼šç»™æ‰€æœ‰æ¨¡å—æ³¨å…¥requireç­‰å‚æ•°å®ç°æµè§ˆå™¨æ”¯æŒCMD</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> modulesString
  <span class="token punctuation">}</span>
  <span class="token comment">// æ„å»ºå¯åŠ¨</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>entry<span class="token punctuation">)</span> <span class="token comment">// å…¥å£ä¾èµ–åˆ†æ</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">deepRequire</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å…¥å£ä¾èµ–é€’å½’åˆ†æ</span>
    
    <span class="token keyword">const</span> moduleListString <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// åŒ…è£…æ‰€æœ‰ä¾èµ–æ¨¡å—</span>
    <span class="token keyword">const</span> fileRes <span class="token operator">=</span> <span class="token function">generate</span><span class="token punctuation">(</span>moduleListString<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>entry<span class="token punctuation">)</span><span class="token comment">// åˆå¹¶å†™å…¥ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ä¸­</span>
    <span class="token function">outputFile</span><span class="token punctuation">(</span>fileRes<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">new</span> <span class="token class-name">Compiler</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æˆ‘ä»¬è¿è¡Œ<code>node build/index.js</code> åç”Ÿæˆå‡ºäº†æ•´åˆåçš„js</p><p>æˆ‘ä»¬ç›´æ¥è¿è¡Œç”Ÿæˆå‡ºæ¥çš„jsæ–‡ä»¶ï¼Œå‘ç°æŠ¥é”™æ‰¾ä¸åˆ°èµ„æº è¿™æ˜¯å› ä¸ºæˆ‘ä»¬modulesçš„keyå€¼æ˜¯è½¬åŒ–åçš„ç»å¯¹è·¯å¾„ï¼Œè€Œä¸šåŠ¡ä»£ç å†™çš„æ˜¯ç›¸å¯¹è·¯å¾„ å› æ­¤ç”¨ç›¸å¯¹è·¯å¾„ä½œä¸ºkeyå»åŒ¹é…æ¨¡å—ï¼Œå°†æ‰¾ä¸åˆ°èµ„æº <img src="https://kingan-md-img.oss-cn-guangzhou.aliyuncs.com/blog/20220320234256.png" alt=""> ä½ å¯èƒ½ä¼šè¯´ï¼Œé‚£æˆ‘ä»¬å°±ç”¨ä¸šåŠ¡ä»£ç çš„ç›¸å¯¹è·¯å¾„åškeyå­˜æˆmodulesä¸å°±è¡Œäº†å—ï¼Ÿ</p><p>ç›¸å¯¹è·¯å¾„æ˜¯ä¼šå†²çªçš„ï¼Œæˆ‘ä»¬åªæœ‰ç”¨ç»å¯¹è·¯å¾„åškeyæ‰èƒ½æ˜¯å‡†ç¡®çš„èµ„æºæ ‡è¯†</p><ul><li>webpack5 ä¼šæŠŠä¸šåŠ¡ä»£ç çš„ç›¸å¯¹è·¯å¾„æ”¹å†™ä¸ºç»å¯¹è·¯å¾„</li><li>TODO: webpack4 å¥½åƒæ˜¯ç”¨è‡ªå¢IDæ¥åŒ¹é…èµ„æºè€Œä¸æ˜¯èµ„æºè·¯å¾„</li></ul><p>é—®é¢˜å‡ºåœ¨å”¯ä¸€æ ‡è¯†ä¸åŒ¹é…ä¸Š</p><p>è§£å†³åŠæ³•1</p><p>æˆ‘ä»¬ç°åœ¨çš„æ¨¡å—åˆ—è¡¨æ˜¯ <code>&#39;path&#39;:function(){}</code> æˆ‘ä»¬æ”¹ä¸º <code>&#39;path&#39;: {code:function(){}, dependencies:{}}</code></p><p>å¦‚ğŸ‘‡</p><div class="language-js"><pre><code><span class="token comment">// æ·±åº¦æ‰«æè¯†åˆ«requireç­‰å¼•å…¥èµ„æº</span>
<span class="token keyword">function</span> <span class="token function">findRequire</span><span class="token punctuation">(</span><span class="token parameter">ast<span class="token punctuation">,</span> parentPath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>parentPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">//éå†å½“å‰astï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰</span>
  <span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">//æ‰¾åˆ°æœ‰ importè¯­æ³• çš„å¯¹åº”èŠ‚ç‚¹</span>
    <span class="token function-variable function">ImportDeclaration</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//ä¾‹å¦‚ å¦‚æœå½“å‰jsæ–‡ä»¶ æœ‰ä¸€å¥ import a from &#39;./a.js&#39;ï¼Œ </span>
      dependencies<span class="token punctuation">[</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> dependencies
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨æ³¨å…¥çš„requireä¸­ç”¨ä¸šåŠ¡ä»£ç çš„ç›¸å¯¹è·¯å¾„å»åŒ¹é… <code>dependencies</code> å‡ºçœŸå®ç»å¯¹è·¯å¾„</p><p>ğŸ‘‡ è¿™æ˜¯ä¸€ç§è¿è¡Œæ—¶çš„æ€è·¯</p><div class="language-js"><pre><code><span class="token comment">// åˆå¹¶å¤„ç†åçš„æ¨¡å—å†™å…¥ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ä¸­</span>
<span class="token keyword">function</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token parameter">modules<span class="token punctuation">,</span>entryPath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
(function(modules){
  function require(fileName) {
    const { dependencies,code } =  modules[fileName]
    // è¦æ³¨å…¥çš„çœŸæ­£requireï¼ŒåŒ…è£…äº†ä¸€å±‚å¸¦ä¸Šç¼“å­˜çš„(é—­åŒ…)
    function realRequire(relativePath) {
      return require(dependencies[relativePath])
    }
    const module = {exports:{}};
    //æ‰§è¡Œæ¯ä¸ªæ¨¡å—çš„ä»£ç ã€‚
    code(realRequire,module,module.exports);
    return module.exports;
  }
  //æ‰§è¡Œå…¥å£æ–‡ä»¶ï¼Œ
  require(&#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entryPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;);
})({</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>modules<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">})
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> generate
</code></pre></div><p>è§£å†³åŠæ³•2</p><p>æƒ³åœ¨ä¸åŠ¨ä¸šåŠ¡ä»£ç çš„å‰æä¸‹åŒ¹é…ä¸Šï¼Œé€šè¿‡ä¸€å±‚æšä¸¾æ¥ä¸­è½¬åŒ¹é… è¿™æ˜¯ç¼–è¯‘æ—¶çš„æ€è·¯ TODO:</p><hr><p>æ€è€ƒğŸ¤”: <code>webpack</code> åªå®ç°è®©æµè§ˆå™¨æ”¯æŒCJSçš„æ¨¡å—åŒ–æ‰“åŒ…è€Œå·²,æŠŠå¾ˆå¤šåŠŸèƒ½éƒ½é€šè¿‡ <code>loader</code> å’Œ <code>plugin</code>å¼€æ”¾å‡ºå»äº†ï¼Œä¸ºä»€ä¹ˆ<code>çº¯webpack</code>è¿˜ä¼šè¿™ä¹ˆé‡å‘¢(å› ä¸ºå·¥ç¨‹åºå¤§,ä¾èµ–æ–‡ä»¶å¤šï¼Ÿ)</p><p>æºç å¤æ‚çš„åŸå› æ˜¯é…ç½®å¤šï¼Œå¹¶ä¸”é…ç½®æ”¯æŒçš„ç±»å‹å¤šï¼Œè¿™æ ·å¤„ç†1ä¸ªé…ç½®é¡¹å†™èµ·æ¥å°±å¾ˆå¤æ‚ å¦å¤– <code>webpack</code> è¿˜æœ‰å¾ˆå¤šå¾ˆé‡è¦çš„åŠŸèƒ½æ˜¯å†…ç½®çš„ï¼Œå¦‚ <code>çƒ­æ›´æ–°HMRã€sourceMapã€ä»£ç åˆ†å‰²</code>ç­‰</p><hr><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a></h2><p><code>webpack</code> å®ç°æµè§ˆå™¨è¯†åˆ«ä¸šåŠ¡ä»£ç ä¸­çš„æ¨¡å—åŒ–ï¼Œæ˜¯é€šè¿‡åˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶é€šè¿‡æ³¨å…¥ <code>require</code> çš„CJSå®ç°æ¨¡å—åŒ–</p><p>éš¾ç‚¹åœ¨äºğŸ‘‡</p><ul><li>æŠŠæ–‡ä»¶å†…å®¹è½¬åŒ–ä¸º<code>ASTæ ‘</code>,æ”¶é›†æ¨¡å—åŒ–è¯­æ³•,ä¹Ÿå°±æ˜¯å¼€å‘é˜¶æ®µä½¿ç”¨çš„<code>nodejs</code>çš„<code>CMD/AMDè¯­æ³•</code></li><li>æ ¹æ®æ”¶é›†åˆ°çš„<code>ASTæ ‘</code>,é€šè¿‡åŒ…è£…ä¸€å±‚<code>æ³¨å…¥æ–¹æ³•</code>çš„å½¢å¼ï¼Œå®ç°æ¨¡å—åŒ–(è·Ÿ<code>nodejs</code>ä¸€è‡´)</li><li>æŠŠæ”¶é›†åˆ°çš„ä¾èµ–åˆ—è¡¨ï¼Œæ•´åˆåˆ°ä¸€èµ·ï¼Œé€šè¿‡<code>è¿è¡Œæ—¶æ–¹æ³•</code>è¿è¡ŒæŒ‡å®šèµ„æº</li></ul><p>æˆ‘ä»¬è¿˜æåˆ°äº†ä¸€ç‚¹è¿è¡Œæ—¶å’Œç¼–è¯‘æ—¶çš„æ¦‚å¿µï¼Œæˆ‘ä»¬åç»­çš„åˆ†æä¹Ÿå¸Œæœ›å¸¦ç€è¿™æ˜¯åœ¨è¿è¡Œæ—¶åšçš„è¿˜æ˜¯åœ¨ç¼–è¯‘æ—¶åšçš„ï¼Œå„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹çš„é—®é¢˜æ¥å­¦ä¹ </p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/webpack/é‡å­¦webpack-01æ‰“åŒ…å·¥å…·çš„æ€è€ƒ" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>é‡å­¦webpack-01æ‰“åŒ…å·¥å…·çš„æ€è€ƒ</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/webpack/é‡å­¦webpack-03loader" data-v-38ede35f><span class="text" data-v-38ede35f>é‡å­¦webpack-03loader</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"http_http2.md\":\"61f372f8\",\"http_http3.md\":\"f4eae4a7\",\"http_httpç¼“å­˜.md\":\"90dfc416\",\"index.md\":\"7cd664a4\",\"innermanage_å†…ç®¡å‰ç«¯å·¥ç¨‹.md\":\"2e5b87fc\",\"interview_jsåŸºç¡€.md\":\"f3b76f1b\",\"interview_todo.md\":\"a4bea80d\",\"interview__è¿‡.md\":\"ad46898e\",\"interview_å‰ç«¯é¢è¯•ä¹‹é“.md\":\"29e10a7b\",\"interview_å„ç§é¢˜ç›®01.md\":\"336c3f0f\",\"interview_æ‰‹å†™ç³»åˆ—-callbind.md\":\"1a27c36e\",\"interview_æ‰‹å†™ç³»åˆ—-instanceof.md\":\"5a89338b\",\"interview_æ‰‹å†™ç³»åˆ—-mapå’Œfilterå’Œreduce.md\":\"4b19ddd8\",\"interview_æ‰‹å†™ç³»åˆ—-newåŸç†.md\":\"bb803aa9\",\"interview_æ‰‹å†™ç³»åˆ—-settimeæ¨¡æ‹Ÿsetinterval.md\":\"f315b518\",\"interview_æ‰‹å†™ç³»åˆ—-å‘å¸ƒè®¢é˜…å’Œè§‚å¯Ÿè€….md\":\"f6b28385\",\"interview_æ‰‹å†™ç³»åˆ—-å¤æ‚axios.md\":\"fafdf239\",\"interview_æ‰‹å†™ç³»åˆ—-å¤æ‚promise.md\":\"41f7e308\",\"interview_æ‰‹å†™ç³»åˆ—-æ•°ç»„è½¬æ ‘.md\":\"75c9efc8\",\"interview_æ‰‹å†™ç³»åˆ—-æ·±æ‹·è´.md\":\"3d378cc3\",\"interview_æ‰‹å†™ç³»åˆ—-é˜²æŠ–èŠ‚æµ.md\":\"621af863\",\"interview_ç®—æ³•01.md\":\"d9c4b61a\",\"jiagou_monorepo.md\":\"725693ea\",\"jiagou_ä»0åˆ°1æ„å»ºç¬¦åˆæ ‡å‡†çš„å…¬å…±åº“.md\":\"4db26899\",\"jiagou_åˆ‡æ¢ä¸»é¢˜æ–¹æ¡ˆ.md\":\"1c6f7cc6\",\"jiagou_å‰ç«¯åŸºç¡€å»ºè®¾ä¸æ¶æ„30è®².md\":\"545c2f4d\",\"jiagou_æ­å»ºç»„ä»¶åº“.md\":\"75b6105a\",\"jiagou_æ·±å…¥babel.md\":\"98134c12\",\"jiagou_è‡ªåŠ¨ç”ŸæˆæŒ‰éœ€å¯¼å‡ºç›®å½•.md\":\"a0a99e5b\",\"jiagou_è¡¨å•ç»„ä»¶å¸¦æ ¡éªŒåŠŸèƒ½.md\":\"037e52c3\",\"js_object.entries.md\":\"d7ef83a2\",\"js_classå’Œæ„é€ å‡½æ•°.md\":\"e1c68545\",\"js_dayformatæ­£åˆ™çš„ä½¿ç”¨.md\":\"da3c8fb2\",\"js_luhnç®—æ³•.md\":\"1a42337b\",\"js_proxy.md\":\"6ff1ec19\",\"js_ä¼˜é›…çš„class.md\":\"3df6be82\",\"js_å‰ç«¯æ¨¡å—åŒ–.md\":\"9e7f6ead\",\"js_æµè§ˆå™¨åƒåœ¾å›æ”¶.md\":\"e21a3e55\",\"js_æ·±å…¥babel.md\":\"52722ee7\",\"js_é—­åŒ…ä¸åƒåœ¾å›æ”¶.md\":\"749b2ff1\",\"microfrontend_ä»‹ç».md\":\"580a3921\",\"microfrontend_æ‹Ÿå®šå¾®å‰ç«¯æ¶æ„è®¾è®¡.md\":\"ff7f9528\",\"microfrontend_æ¶æ„æ€æƒ³.md\":\"08afff96\",\"node_cheetah-learn.md\":\"03f4cd07\",\"node_cliç›¸å…³å­¦ä¹ .md\":\"5b8b30ed\",\"performance_serviceworker.md\":\"8daffe4c\",\"performance_ssr.md\":\"a4ce6081\",\"performance_æ…•è¯¾ç½‘webæ€§èƒ½ä¼˜åŒ–.md\":\"b9f642c2\",\"typescript_vue2åŠ ts.md\":\"4dfc1521\",\"vue_create-vueè„šæ‰‹æ¶.md\":\"0eba574d\",\"vue_esbuildä½¿ç”¨.md\":\"e068bb0d\",\"vue_keep-aliveåŸç†.md\":\"44c46c5f\",\"vue_vue-routerå®ç°åŸç†.md\":\"1d2621c4\",\"vue_æ¨¡æ¿ç¼–è¯‘.md\":\"482e2dc9\",\"vue_è·¯ç”±é¡µé¢å†å²æ ˆçš„å¤„ç†.md\":\"f827e2a6\",\"vue_é‡å­¦vue-01æ¨¡æ¿è¯­æ³•.md\":\"69d88a08\",\"vue_é‡å­¦vue-02æ•°æ®é©±åŠ¨è§†å›¾.md\":\"c681bf73\",\"vue_é‡å­¦vue-03renderå‡½æ•°.md\":\"477b8cdc\",\"vue_é‡å­¦vue-04å†…ç½®æŒ‡ä»¤.md\":\"d05b23f6\",\"vue_é‡å­¦vue-05filterå¤šä½™å—.md\":\"583eb11a\",\"vue_é‡å­¦vue-06computer.md\":\"2085b276\",\"vue_é‡å­¦vue-07watch.md\":\"915b128f\",\"vue_é‡å­¦vue-08ç»„ä»¶.md\":\"1a9f134f\",\"vue_é‡å­¦vue-09ç”Ÿå‘½å‘¨æœŸ.md\":\"a715abeb\",\"vue_é‡å­¦vue-10refæ˜¯ä»€ä¹ˆ.md\":\"8043a67e\",\"vue_é‡å­¦vue-11nexttick.md\":\"c1eba6cc\",\"vue_é‡å­¦vue-8ç»„ä»¶é€šä¿¡.md\":\"fe312913\",\"vue_é‡å­¦vue-vue.use.md\":\"2adddb6d\",\"vue_é‡å­¦vue-åŠ¨ç”»å†…ç½®ç»„ä»¶.md\":\"f35266d9\",\"vue3_elementplus.md\":\"474cd264\",\"vue3_å…¥é—¨.md\":\"3cbb2de8\",\"webcomponents_1. webcomponentä»‹ç».md\":\"6dd880b3\",\"webcomponents_2. customelements.md\":\"e890e63a\",\"webpack_1.md\":\"19710796\",\"webpack__è‰ç¨¿.md\":\"a4521525\",\"webpack_å®ç°ä¸€ä¸ªè‡ªå·±çš„è„šæ‰‹æ¶.md\":\"3a0dcb1e\",\"webpack_é‡å­¦webpack-01æ‰“åŒ…å·¥å…·çš„æ€è€ƒ.md\":\"dc8f4b90\",\"webpack_é‡å­¦webpack-02æ¨¡å—åŒ–åŸç†.md\":\"be9e501e\",\"webpack_é‡å­¦webpack-03loader.md\":\"34f09632\",\"webpack_é‡å­¦webpack-04plugin.md\":\"bc5707c3\",\"webpack_é‡å­¦webpack-05hmrçƒ­æ›´æ–°.md\":\"9368db44\",\"week_202110-1.md\":\"66b9ab24\",\"week_202110-2.md\":\"5bcee2e2\",\"week_202111-1.md\":\"72fb7b6d\",\"week__0todo.md\":\"271b539a\",\"week_ç¼“å­˜å·¥å…·æ–¹æ³•æ€è·¯.md\":\"fdb57aa6\",\"work_ioså°ç™½æ¡é—®é¢˜.md\":\"5d8a3aac\"}")</script>
    <script type="module" async src="/assets/app.d95e124d.js"></script>
    
  </body>
</html>